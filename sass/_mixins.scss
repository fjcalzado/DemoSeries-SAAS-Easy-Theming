@import "themes";

// @mixin themify($properties, $keys, $transition-duration: $theme-transition-duration, $themes: $themeCollection) {
//   // Iterate over the themes
//   @each $theme, $themeItem in $themes {
//     // Create a selector CLASS -> THEME and also THEME -> CLASS
//     &.theme-#{$theme},
//     .theme-#{$theme} & {
//       @for $i from 1 through length($properties){
//         $property: nth($properties,$i);
//         $key: nth($keys,$i);
//         #{$property}: map-get($themeItem, $key);
//       }
//
//       transition: #{$properties};
//       transition-duration: $transition-duration;
//     }
//   }
// }

/// Themify mixin
/// @access private
@mixin themify($property, $key, $transition-duration: $theme-transition-duration, $themes: $themeCollection) {
  // Iterate over the themes
  @each $theme, $themeItem in $themes {
    // Create a selector CLASS -> THEME and also THEME -> CLASS
    &.theme-#{$theme},
    .theme-#{$theme} & {
      // Output the declaration
      #{$property}: map-get($themeItem, $key);
      //transition: #{$property} $transition-duration;
    }
  }
}

/// Themify mixin PUBLIC API.

///@acess public
@mixin font-family($arguments...){
  @include themify("font-family", $arguments...);
}

///@acess public
@mixin color($arguments...){
  @include themify("color", $arguments...);
}

///@acess public
@mixin background($arguments...){
  @include themify("background", $arguments...);
}

///@acess public
@mixin background-color($arguments...){
  @include themify("background-color", $arguments...);
}

///@acess public
@mixin background-image($arguments...){
  @include themify("background-image", $arguments...);
}

///@acess public
@mixin text-shadow($arguments...){
  @include themify("text-shadow", $arguments...);
}

///@acess public
@mixin box-shadow($arguments...){
  @include themify("box-shadow", $arguments...);
}
